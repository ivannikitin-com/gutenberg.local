Контейнеры для тестов с Gutenberg
=================================
Этот пакет предназначен для тестов тем и плагинов Gutenberg.

Содержание пакета
-----------------
Пакет содержит следующие компоненты:

### Для тестирования и работы с редактором
1. Тема [Blocksy](https://creativethemes.com/blocksy/) -- компактная и приятная тема Gutenberg.
2. Плагин [Qubely](https://qubely.io/) -- мощное расширение блоков Gutenberg.
3. Плагин [WPSiteSync for Content](https://wordpress.org/plugins/wpsitesynccontent/) -- для выборочной синхронизации 
   страниц и записей Gutenberg с другими серверами, например, с PROD сервером. 

### Для тестирования режима Full-Site Editing (FSE)
4. Тема [Blockbase](https://wordpress.org/themes/blockbase/) -- тема от компании Automattic с поддержкой FSE.
3. Плагин [Gutenberg](https://wordpress.org/plugins/gutenberg/) последней версии.

Установка и развертывание пакета
--------------------------------
### Подготовка и запуск
1. Скачайте все файлы в zip-архиве или клонируйте этот репозитарий в любую локальную папку своего компьютера.

2. Добавьте локальное имя `gutenberg.local` в файл hosts. Для этого:
    * В Windows откройте Пуск -> Выполнить (или нажмите Win+R);
    * Введите команду `notepad` и обязательно нажмите Ctrl+Shift+Enter для запуска ее в режиме администратора;
    * В открывшемся блокноте откройте файл `C:\Windows\System32\drivers\etc\hosts`
    * Добавьте в него строчку и сохраните файл:
```
127.0.0.1	gutenberg.local
```

3. Установите SSL сертификат на свою машину, для этого:
    * В Windows откройте Пуск -> Выполнить (или нажмите Win+R);
    * Введите команду `mmc` и обязательно нажмите Ctrl+Shift+Enter для запуска ее в режиме администратора;
    * Появится приглашение UAC, где необходимо ввести пароль администратора компьютера, если он установлен. Введите его. Откроется новая консоль управления компьютером;
    * В меню консоли выберите "Файл --> Добавить или удалить оснастку";
    * В левом списке найдите "Сертификаты" и нажмите кнопку "Добавить";
    * В появившемся окне выберите "Учетной записи компьютера" (последний элемент) и нажмите кнопку "Далее";
    * Выберите "Управление локальным компьютером" и нажмите кнопку "Готово";
    * Нажмите "OK" чтобы завершить добавление оснастки сертификатов локального компьютера;
    * В списке Сертификатов найдите и откройте раздел "Доверенные корневые центры сертификации -- > Сертификаты";
    * В меню оснастки выберите "Действия --> Все задачи --> Импорт";
    * Нажмите кнопку на втором экране мастера "Выберите файл" и найдите файл в этом репозитарии `.conf\ssl\gutenberg.local.pfx`. Чтобы файлы показывались надо рядом с кнопкой открыть выбрать из списка типов файлов "Все файлы". Нажмите "Далее";
    * Введите пароль на файл сертификата `YourPassword`. Нажмите "Далее";
    * Убедитесь, что выбрано хранилище "Доверенные корневые центры сертификации" и нажмите "Далее";
    * Завершите работу мастера нажатием "Готово". Сертификат импортирован. Найдите его в списке сертификатов.
    * Закройте консоль. Параметры консоли можно не сохранять.

4. Установите
   [WSL2](https://docs.microsoft.com/ru-ru/windows/wsl/install-win10) (обязательно!),
   [Docker Desktop](https://www.docker.com/products/docker-desktop)
   и штатно его запустите.

5. Откройте 
   [PowerShell](https://docs.microsoft.com/ru-ru/powershell/scripting/windows-powershell/starting-windows-powershell?view=powershell-7.1)
   или командную строку и перейдите в папку этого пакета командой `cd <путь к папке>`. 

6. Выполните команду `docker-compose up -d` и дождитесь ее завершения.

7. Откройте в браузере сайт https://gutenberg.local и штатно установите Wordpress на нужном языке (завершите установку).

8. В окне PowerShell в вашей папке (или в командной строке) выполните команду `.\.jobs\wp-update.ps1` и дождитесь ее завершения.

9. В окне PowerShell в вашей папке (или в командной строке) выполните команду `.\.jobs\wp-cron.ps1` и дождитесь ее завершения.

Всё! Ваш сайт готов к работе.

Проверить настройки PHP можно по адресу https://gutenberg.local/test.php

### Включение темы Blocksy
1. Откройте страницу https://gutenberg.local/wp-admin/themes.php и нажмите кнопку Активировать на теме Blocksy.

2. После активации тема предложит установить плагин Blocksy Companion -- установите его.

3. Импортировать готовые демо-сайты можно на странице https://gutenberg.local/wp-admin/admin.php?page=ct-dashboard#/demos

3. Многие демонстрации требуют плагина Qubely, который добавляет блоки в редактор. Просто перейдите на страницу плагинов и активируйте его. 



Режим Full-Site Editing (FSE)
-----------------------------
Режим FSE позволяет редактировать _любые компоненты_ сайта (шапка, подвал, боковые панели и т.п.) в визуальном режиме с помощью Gutenberg. Для этого необходимо:
1. Последняя версия плагина Gutenberg (включена в этот пакет);
2. Тема, поддерживающая этот режим (включена в этот пакет).

### Некоторые материалы о режиме FSE
* [Full-Site-Editing – the Ultimate Resource List](https://gutenbergtimes.com/full-site-editing/)
* [The WordPress Evolution Toward Full-Site Editing](https://css-tricks.com/the-wordpress-evolution-toward-full-site-editing/)
* [What Is Gutenberg Full-Site Editing (And How to Access It Today)](https://torquemag.io/2021/03/gutenberg-full-site-editing/)

### Дополнительные темы FSE
Дополнительные темы можно найти по адресу:  
https://wordpress.org/themes/tags/full-site-editing/


